# ガンプラ在庫監視Bot

プレミアムバンダイの商品在庫を自動で監視し、在庫が復活したらLINEで通知するシンプルなBotです。

### 主な機能

- **在庫の自動チェック**: 30分おきに在庫状況を自動で確認（ボタン判定による検出）。
- **LINEで通知**: 在庫復活を検知したら、登録ユーザー全員に商品URLをLINEでプッシュ通知。
- **簡単なユーザー登録**: BotをLINEで友だち追加するだけで通知先リストに自動登録。

---

## 🚀 セットアップ

このBotは、SupabaseとGitHub Actionsの無料枠を使ってセットアップできます。

**詳細な手順はこちらのガイドをご覧ください:**

👉 **[セットアップガイド](./docs/SETUP.md)**

---

## アーキテクチャ

- **データベース & Webhookサーバー (Supabase)**:
  - PostgreSQLデータベースで商品とユーザー情報を管理。
  - Edge FunctionでLINEからのWebhookを受け付け、友だち追加・削除に応答。
- **在庫チェッカー (GitHub Actions)**:
  - 30分おきに起動し、Playwrightを使って商品ページのボタン判定により在庫を確認。
  - 在庫復活を検知したら、LINE Messaging APIで全ユーザーに商品URLを通知。
  - スクレイピング対策のため、カート投入などの自動操作は一切行わない。

---

## ⚠️ 注意

- このBotは、プレミアムバンダイの利用規約を遵守する範囲で、個人の購入補助を目的としています。商業目的での利用や、他者への迷惑となるような過度な利用は固く禁じます。
- 本Botは在庫復活を通知するのみで、**自動購入・自動カート投入は一切行いません**。ボタンのテキスト判定のみで在庫状態を検出します。
- スクレイピング対策およびアカウントBAN防止のため、カート投入などの自動操作機能は実装していません。通知を受け取ったら、手動で購入手続きを行ってください。
- 本プログラムの利用によって生じたいかなる損害についても、開発者は責任を負いません。自己責任でご利用ください。
